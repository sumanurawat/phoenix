{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block main_class %}portfolio-layout pt-0{% endblock %}

{% block content %}
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <div class="profile">
                <h1 class="name">Sumanu Rawat</h1>
                <p class="title">AI Engineer & Developer</p>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#projects" class="active">Projects</a></li>
                    <li><a href="https://github.com/sumanurawat" target="_blank">
                        <i class="fab fa-github"></i> GitHub
                    </a></li>
                    <li><a href="https://www.linkedin.com/in/sumanurawat/" target="_blank">
                        <i class="fab fa-linkedin"></i> LinkedIn
                    </a></li>
                    <li><a href="https://scholar.google.com/citations?user=0gw8EuQAAAAJ&hl=en" target="_blank">
                        <i class="fas fa-graduation-cap"></i> Google Scholar
                    </a></li>
                    <li><a href="mailto:sumanurawat.usa@gmail.com">
                        <i class="far fa-envelope"></i> Contact
                    </a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <p>Â© 2025 Sumanu Rawat</p>
            </div>
        </div>
    </aside>
    
    <!-- Main Content -->
    <div class="main-content">
        <section class="hero">
            <div class="container">
                <h2>AI Tools & Content Creator Utilities</h2>
                <p class="lead">Practical AI applications designed for content creators and everyday productivity.</p>
            </div>
        </section>
        
        <section id="projects" class="projects">
            <div class="container">
                <div class="row">
                    <!-- Apps Column -->
                    <div class="col-lg-12 col-md-12 mb-4">
                        <div class="section-header mb-4">
                            <h3 class="section-title">AI Applications</h3>
                            <p class="section-subtitle">Practical tools for creators and productivity</p>
                        </div>
                        <div class="compact-project-grid">
                            <!-- Derplexity row -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('derplexity') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-robot"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Derplexity</div>
                                            <div class="compact-project-desc">Conversational AI powered by Gemini</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="chat-sessions">-</div>
                                        <div class="mini-label">Conversations Started</div>
                                    </div>
                                    <div class="mini-card">
                                        <div class="mini-number" id="chat-messages">-</div>
                                        <div class="mini-label">Messages Exchanged</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Doogle row -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('doogle') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Doogle</div>
                                            <div class="compact-project-desc">AI-powered search with smart summaries</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="doogle-searches">-</div>
                                        <div class="mini-label">Searches Performed</div>
                                    </div>
                                    <div class="mini-card placeholder"></div>
                                </div>
                            </div>

                            <!-- Robin row -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('robin.robin_page') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="far fa-newspaper"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Robin</div>
                                            <div class="compact-project-desc">AI news summarizer and aggregator</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="robin-answers">-</div>
                                        <div class="mini-label">News Queries Answered</div>
                                    </div>
                                    <div class="mini-card placeholder"></div>
                                </div>
                            </div>

                            <!-- Dataset Discovery row (placeholders) -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('dataset_discovery') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-database"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Dataset Discovery</div>
                                            <div class="compact-project-desc">Find and analyze Kaggle datasets with AI</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card placeholder"></div>
                                    <div class="mini-card placeholder"></div>
                                </div>
                            </div>

                            <!-- Deeplink row -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('deeplink.manage_short_links_page') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-link"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Short Links</div>
                                            <div class="compact-project-desc">URL shortener with analytics</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="total-links">-</div>
                                        <div class="mini-label">Links Created</div>
                                    </div>
                                    <div class="mini-card">
                                        <div class="mini-number" id="total-clicks">-</div>
                                        <div class="mini-label">Total Clicks</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Video Generation row (placeholders) -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('video_generation') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-video"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Video Generator</div>
                                            <div class="compact-project-desc">AI-powered video content creation</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="videos-generated">-</div>
                                        <div class="mini-label">Videos Generated</div>
                                    </div>
                                    <div class="mini-card placeholder"></div>
                                </div>
                            </div>

                            <!-- Reel Maker row -->
                            <div class="compact-app-row">
                                <a href="{{ url_for('reel_maker') }}" class="text-decoration-none flex-grow-1">
                                    <div class="compact-project-item">
                                        <div class="compact-project-icon">
                                            <i class="fas fa-film"></i>
                                        </div>
                                        <div class="compact-project-content">
                                            <div class="compact-project-title">Reel Maker</div>
                                            <div class="compact-project-desc">Create and stitch video reels</div>
                                        </div>
                                    </div>
                                </a>
                                <div class="inline-mini-cards">
                                    <div class="mini-card">
                                        <div class="mini-number" id="reels-created">-</div>
                                        <div class="mini-label">Reels Created</div>
                                    </div>
                                    <div class="mini-card placeholder"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}

{% block extra_css %}
<style>
    /* Index-specific styles for user status in sidebar */
    .sidebar-user-section {
        margin-bottom: 2rem;
        padding: 1rem;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 0.5rem;
    }
    
    .user-status-card {
        text-align: center;
    }
    
    .user-status-card .user-info {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    
    .user-avatar-small {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
    }
    
    .user-status-card .user-details {
        text-align: left;
        flex: 1;
    }
    
    .user-status-card .user-name {
        font-weight: 500;
        font-size: 0.9rem;
        color: #2c3e50;
        line-height: 1.2;
    }
    
    .user-status-card .user-subscription {
        font-size: 0.75rem;
        margin-top: 0.25rem;
    }
    
    .auth-section {
        text-align: center;
    }
    
    .auth-message {
        margin-bottom: 1rem;
    }
    
    .auth-message p {
        font-size: 0.9rem;
        color: #666;
        margin: 0;
    }
    
    .auth-buttons-sidebar {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .bg-gradient-premium {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Load global stats from public API (works when logged out)
    fetch('/api/website-stats')
        .then(response => response.json())
        .then(data => {
            const map = {
                'chat-sessions': data.conversations_started,
                'chat-messages': data.messages_exchanged,
                'doogle-searches': data.doogle_searches_made,
                'robin-answers': data.robin_queries_answered,
                'total-links': data.total_links,
                'total-clicks': data.total_clicks,
                'videos-generated': data.videos_generated
            };
            Object.entries(map).forEach(([id, val]) => {
                const el = document.getElementById(id);
                if (el) el.textContent = val || '0';
            });
        })
        .catch(error => {
            console.error('Error fetching stats:', error);
            const ids = ['chat-sessions','chat-messages','doogle-searches','robin-answers','total-links','total-clicks','videos-generated'];
            ids.forEach(id => { const el = document.getElementById(id); if (el) el.textContent = '0'; });
        });
</script>
{% endblock %}