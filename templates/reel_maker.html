{% extends "base.html" %}

{% block extra_css %}
<style>
  .reel-maker-shell {
    min-height: 70vh;
  }

  .reel-maker-shell__fallback {
    display: grid;
    place-items: center;
    text-align: center;
    gap: 0.75rem;
    padding: 3rem 1rem;
    color: rgba(255, 255, 255, 0.6);
  }

  /* Mobile-specific improvements */
  @media (max-width: 768px) {
    .container-fluid {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }

    .btn-link {
      font-size: 0.9rem;
      padding: 0.5rem 0;
    }

    .reel-maker-shell {
      min-height: 60vh;
    }
  }

  @media (max-width: 600px) {
    .container-fluid {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    .btn-link {
      font-size: 0.85rem;
      margin-bottom: 0.5rem !important;
    }

    .reel-maker-shell__fallback {
      padding: 2rem 0.75rem;
    }
  }

  /* Prevent horizontal scroll on mobile */
  @media (max-width: 768px) {
    body {
      overflow-x: hidden;
    }

    #reel-maker-root {
      max-width: 100vw;
      overflow-x: hidden;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
  <a href="/" class="btn btn-link mb-3 text-light">
    <i class="fas fa-arrow-left"></i> Back to Home
  </a>

  <section id="reel-maker-root" class="reel-maker-shell">
    <div class="reel-maker-shell__fallback">
      <i class="fas fa-compact-disc fa-spin fa-2x"></i>
      <div class="fw-semibold">Loading Reel Maker workspaceâ€¦</div>
      <small class="text-muted">If this message does not disappear, please refresh the page.</small>
    </div>
  </section>
</div>
{% endblock %}

{% block extra_js %}
<link rel="stylesheet" href="{{ url_for('static', filename='reel_maker/assets/main.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='reel_maker/components/JobProgressMonitor.css') }}">
<script src="{{ url_for('static', filename='reel_maker/components/JobProgressMonitor.js') }}"></script>
<script src="{{ url_for('static', filename='reel_maker/components/progress-monitor-integration.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='reel_maker/assets/main.js') }}" defer></script>
{% endblock %}